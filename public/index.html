<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- Added meta description -->
    <meta
      name="description"
      content="Personal Budget app to manage expenses, track results, and stay on budget. Free and simple to use."
    />

    <!-- Added meta keywords -->
    <meta
      name="keywords"
      content="budget, personal finance, money management, expense tracker"
    />
    <link rel="stylesheet" href="reset.css" />
    <!-- Added meta author -->
    <meta name="author" content="Vatsal Upadhyay" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personal Budget - Manage Your Expenses</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <!-- Semantic HTML Change -->
    <header>
      <nav class="menu" aria-label="Main Navigation">
        <ul>
          <li><a href="/">Homepage</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/login.html">Login</a></li>
          <li><a href="https://google.com">Google</a></li>
        </ul>
      </nav>
    </header>

    <!--Semantic HTML Change -->
    <main>
      <section class="hero">
        <h1>Personal Budget</h1>
        <h2>A personal-budget management app</h2>
      </section>

      <!-- Semantic HTML Change -->
      <section class="page-area">
        <article class="text-box">
          <h2>Stay on track</h2>
          <p>
            Do you know where you are spending your money? If you really stop to
            track it down, you would get surprised! Proper budget management
            depends on real data... and this app will help you with that!
          </p>
        </article>

        <article class="text-box">
          <h2>Alerts</h2>
          <p>
            What if your clothing budget ended? You will get an alert. The goal
            is to never go over the budget.
          </p>
        </article>

        <article class="text-box">
          <h2>Results</h2>
          <p>
            People who stick to a financial plan, budgeting every expense, get
            out of debt faster! Also, they live happier lives... since they
            expend without guilt or fear... because they know it is all good and
            accounted for.
          </p>
        </article>

        <article class="text-box">
          <h2>Free</h2>
  <canvas id="myChart" width="300" height="300" aria-label="Budget Pie Chart" role="img"></canvas>
        </article>
      </section>
    </main>

    <!-- A11y Change -->
    <footer class="bottom">
      <div class="center">
        <!-- A11y Change-->
        <p aria-label="All rights reserved message">
          All rights reserved &copy; Fabio Nolasco
        </p>
      </div>
    </footer>

    <!-- A11y Change -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.11.0/axios.min.js"
      integrity="sha512-h9644v03pHqrIHThkvXhB2PJ8zf5E9IyVnrSfZg8Yj8k4RsO4zldcQc4Bi9iVLUCCsqNY0b4WXVV4UB+wbWENA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script>
  var dataSource = {
    labels: ['Eat out', 'Rent', 'Groceries'],
    datasets: [{
      data: [30, 350, 90],
      backgroundColor: ['#ffcd56', '#ff6384', '#36a2eb', '#fd6b19']
    }]
  };

  function createChart() {
    const ctx = document.getElementById('myChart').getContext('2d');
    const myPieChart = new Chart(ctx, {
      type: 'pie',
      data: dataSource
    });
  }

 function getBudget() {
    axios.get('/budget')
      .then(function (res) {
        console.log(res.data);
        for (var i = 0; i < res.data.myBudget.length; i++) {
         dataSource.datasets[0].data[i] = res.data.myBudget[i].budget;
          data.labels[i] = res.data.myBudget[i].title;
        }
        createChart();
  });
 }
  createChart();

</script>
  </body>
</html>
